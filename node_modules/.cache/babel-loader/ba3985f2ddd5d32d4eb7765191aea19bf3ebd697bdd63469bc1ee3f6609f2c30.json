{"ast":null,"code":"var _jsxFileName = \"/Users/sucharitha/Desktop/DataArt/Task6/timeline/src/components/EventModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventModal = ({\n  event,\n  onClose\n}) => {\n  _s();\n  const modalRef = useRef(null);\n  const closeButtonRef = useRef(null);\n  const previouslyFocusedElement = useRef(null);\n\n  // Trap focus and handle Escape key\n  useEffect(() => {\n    var _closeButtonRef$curre;\n    previouslyFocusedElement.current = document.activeElement;\n    function trapFocus(e) {\n      var _modalRef$current;\n      const focusableElementsString = 'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex=\"-1\"])';\n      const focusableElements = (_modalRef$current = modalRef.current) === null || _modalRef$current === void 0 ? void 0 : _modalRef$current.querySelectorAll(focusableElementsString);\n      if (!focusableElements || focusableElements.length === 0) return;\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n      if (e.key === \"Tab\") {\n        if (e.shiftKey) {\n          if (document.activeElement === firstElement) {\n            e.preventDefault();\n            lastElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n          }\n        }\n      } else if (e.key === \"Escape\") {\n        e.preventDefault();\n        onClose();\n      }\n    }\n    document.addEventListener(\"keydown\", trapFocus);\n    (_closeButtonRef$curre = closeButtonRef.current) === null || _closeButtonRef$curre === void 0 ? void 0 : _closeButtonRef$curre.focus();\n    return () => {\n      var _previouslyFocusedEle;\n      document.removeEventListener(\"keydown\", trapFocus);\n      (_previouslyFocusedEle = previouslyFocusedElement.current) === null || _previouslyFocusedEle === void 0 ? void 0 : _previouslyFocusedEle.focus(); // Return focus to previously focused element\n    };\n  }, [onClose]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"modal\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": \"modal-title\",\n    className: \"active\",\n    onClick: e => e.target === e.currentTarget && onClose(),\n    ref: modalRef,\n    tabIndex: -1,\n    style: {\n      outline: \"none\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modal-close\",\n        onClick: onClose,\n        \"aria-label\": \"Close modal\",\n        ref: closeButtonRef,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"modal-title\",\n        children: [event.year, \" - \", event.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: event.image,\n        alt: event.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: event.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), event.category && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: event.category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(EventModal, \"atGEwCrOOpuJPDgOGQ8YX/BHxfA=\");\n_c = EventModal;\nexport default EventModal;\nvar _c;\n$RefreshReg$(_c, \"EventModal\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","EventModal","event","onClose","_s","modalRef","closeButtonRef","previouslyFocusedElement","_closeButtonRef$curre","current","document","activeElement","trapFocus","e","_modalRef$current","focusableElementsString","focusableElements","querySelectorAll","length","firstElement","lastElement","key","shiftKey","preventDefault","focus","addEventListener","_previouslyFocusedEle","removeEventListener","id","role","className","onClick","target","currentTarget","ref","tabIndex","style","outline","children","fileName","_jsxFileName","lineNumber","columnNumber","year","title","src","image","alt","description","category","_c","$RefreshReg$"],"sources":["/Users/sucharitha/Desktop/DataArt/Task6/timeline/src/components/EventModal.tsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { Event } from \"../types\";\n\ninterface ModalProps {\n  event: Event;\n  onClose: () => void;\n}\n\nconst EventModal: React.FC<ModalProps> = ({ event, onClose }) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n  const closeButtonRef = useRef<HTMLButtonElement>(null);\n  const previouslyFocusedElement = useRef<HTMLElement | null>(null);\n\n  // Trap focus and handle Escape key\n  useEffect(() => {\n    previouslyFocusedElement.current = document.activeElement as HTMLElement;\n\n    function trapFocus(e: KeyboardEvent) {\n      const focusableElementsString = 'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex=\"-1\"])';\n      const focusableElements = modalRef.current?.querySelectorAll<HTMLElement>(focusableElementsString);\n      if (!focusableElements || focusableElements.length === 0) return;\n\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      if (e.key === \"Tab\") {\n        if (e.shiftKey) {\n          if (document.activeElement === firstElement) {\n            e.preventDefault();\n            lastElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n          }\n        }\n      } else if (e.key === \"Escape\") {\n        e.preventDefault();\n        onClose();\n      }\n    }\n\n    document.addEventListener(\"keydown\", trapFocus);\n    closeButtonRef.current?.focus();\n\n    return () => {\n      document.removeEventListener(\"keydown\", trapFocus);\n      previouslyFocusedElement.current?.focus(); // Return focus to previously focused element\n    };\n  }, [onClose]);\n\n  return (\n    <div\n      id=\"modal\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"modal-title\"\n      className=\"active\"\n      onClick={(e) => e.target === e.currentTarget && onClose()}\n      ref={modalRef}\n      tabIndex={-1}\n      style={{ outline: \"none\" }}\n    >\n      <div className=\"modal-content\">\n        <button\n          className=\"modal-close\"\n          onClick={onClose}\n          aria-label=\"Close modal\"\n          ref={closeButtonRef}\n        >\n          &times;\n        </button>\n        <h2 id=\"modal-title\">{event.year} - {event.title}</h2>\n        <img src={event.image} alt={event.title} />\n        <p>{event.description}</p>\n        {event.category && <span>{event.category}</span>}\n      </div>\n    </div>\n  );\n};\n\nexport default EventModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}